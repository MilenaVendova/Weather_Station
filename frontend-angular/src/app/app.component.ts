// üé® –¢–æ–≤–∞ –µ –≥–ª–∞–≤–Ω–∏—è—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –∫–∞—Ç–æ —Ä–µ–∂–∏—Å—å–æ—Ä –Ω–∞ —Ñ–∏–ª–º, –∫–æ–π—Ç–æ —É–ø—Ä–∞–≤–ª—è–≤–∞ –≤—Å–∏—á–∫–æ!
import { Component, OnInit } from '@angular/core'; // üì¶ –í–∑–∏–º–∞–º–µ Component –∏ OnInit –æ—Ç Angular
import { CommonModule } from '@angular/common'; // üîß –í–∑–∏–º–∞–º–µ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (*ngFor, *ngIf...)
import { FormsModule } from '@angular/forms'; // üìù –í–∑–∏–º–∞–º–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ —Ñ–æ—Ä–º–∏ (–∑–∞ dropdown –º–µ–Ω—é—Ç–æ)
import { WeatherService } from './services/weather.service'; // üå¶Ô∏è –í–∑–∏–º–∞–º–µ –Ω–∞—à–∏—è –ø–æ–º–æ—â–Ω–∏–∫ –∑–∞ –≤—Ä–µ–º–µ—Ç–æ
import { WeatherInfo, Country } from './models/weather.model'; // üìã –í–∑–∏–º–∞–º–µ –Ω–∞—à–∏—Ç–µ "—Ñ–æ—Ä–º–∏—á–∫–∏" –∑–∞ –¥–∞–Ω–Ω–∏

// üè∑Ô∏è –î–µ–∫–æ—Ä–∞—Ç–æ—Ä - –∫–∞–∑–≤–∞ –Ω–∞ Angular –∫–∞–∫ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
@Component({ // –ó–∞–ø–æ—á–≤–∞–º–µ –¥–∞ –æ–ø–∏—Å–≤–∞–º–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  selector: 'app-root', // üè∑Ô∏è –ò–º–µ—Ç–æ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ HTML (–∫–∞—Ç–æ <app-root>)
  standalone: true, // ü¶æ –ö–∞–∑–≤–∞–º–µ: "–¢–æ–∑–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ —Å–∞–º –¥–∞ —Å–µ –≥—Ä–∏–∂–∏ –∑–∞ —Å–µ–±–µ —Å–∏"
  imports: [CommonModule, FormsModule], // üìö –°–ø–∏—Å—ä–∫ —Å "–±–∏–±–ª–∏–æ—Ç–µ–∫–∏", –∫–æ–∏—Ç–æ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ
  templateUrl: './app.component.html', // üñºÔ∏è –ö—ä–¥–µ –µ HTML —à–∞–±–ª–æ–Ω—ä—Ç (–∫–∞—Ç–æ —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞ —Ñ–∏–ª–º)
  styleUrls: ['./app.component.css'] // üé® –ö—ä–¥–µ —Å–∞ —Å—Ç–∏–ª–æ–≤–µ—Ç–µ (–∫–∞—Ç–æ –∫–æ—Å—Ç—é–º–∏ –∑–∞ –∞–∫—Ç—å–æ—Ä–∏—Ç–µ)
}) // –ö—Ä–∞–π –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏–µ—Ç–æ

// üè† –ì–ª–∞–≤–Ω–∏—è—Ç –∫–ª–∞—Å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
export class AppComponent implements OnInit { // –ù–∞—à–∏—è—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ–π—Ç–æ –∏–∑–ø—ä–ª–Ω—è–≤–∞ OnInit –¥–æ–≥–æ–≤–æ—Ä–∞
  // üåç –†–∞–∑—à–∏—Ä–µ–Ω —Å–ø–∏—Å—ä–∫ —Å –¥—ä—Ä–∂–∞–≤–∏ –∑–∞ dropdown –º–µ–Ω—é—Ç–æ
  countries: Country[] = [ // –ü—Ä–∞–≤–∏–º –º–∞—Å–∏–≤ —Å –¥—ä—Ä–∂–∞–≤–∏
    { value: 'bulgaria', name: 'Bulgaria üáßüá¨' }, // üáßüá¨ –ë—ä–ª–≥–∞—Ä–∏—è
    { value: 'uk', name: 'United Kingdom üá¨üáß' }, // üá¨üáß –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è
    
  ]; // –ö—Ä–∞–π –Ω–∞ —Å–ø–∏—Å—ä–∫–∞

  // üéØ –ò–∑–±—Ä–∞–Ω–∞ –¥—ä—Ä–∂–∞–≤–∞ (–∑–∞–ø–æ—á–≤–∞–º–µ —Å –ë—ä–ª–≥–∞—Ä–∏—è)
  selectedCountry = 'bulgaria'; // –ó–∞–ø–æ–º–Ω—è–º–µ –∫–æ—è –¥—ä—Ä–∂–∞–≤–∞ –µ –∏–∑–±—Ä–∞–Ω–∞


  // üå§Ô∏è –î–∞–Ω–Ω–∏ –∑–∞ –≤—Ä–µ–º–µ—Ç–æ (–≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω—è–º–∞ –¥–∞–Ω–Ω–∏ - null)
  weatherData: WeatherInfo | null = null; // –ö—É—Ç–∏—è –∑–∞ –¥–∞–Ω–Ω–∏—Ç–µ (–≤ –Ω–∞—á–∞–ª–æ—Ç–æ –µ –ø—Ä–∞–∑–Ω–∞)

  // ‚è≥ –§–ª–∞–≥ –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ (–ø–æ–∫–∞–∑–≤–∞ —Å–ø–∏–Ω–µ—Ä –¥–æ–∫–∞—Ç–æ —á–∞–∫–∞–º–µ)
  isLoading = false; // –í –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–µ –∑–∞—Ä–µ–∂–¥–∞–º–µ –Ω–∏—â–æ

  // ‚ùå –§–ª–∞–≥ –∑–∞ –≥—Ä–µ—à–∫–∞ (–ø–æ–∫–∞–∑–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ –∞–∫–æ –Ω–µ—â–æ —Å–µ —Å—á—É–ø–∏)
  hasError = false; // –í –Ω–∞—á–∞–ª–æ—Ç–æ –Ω—è–º–∞ –≥—Ä–µ—à–∫–∏

  // üìù –°—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞
  errorMessage = '';

  // üî® –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä - –ø–æ–ª—É—á–∞–≤–∞ –ø–æ–º–æ—â–Ω–∏–∫–∞ –∑–∞ –≤—Ä–µ–º–µ—Ç–æ
  constructor(private weatherService: WeatherService) {} // Angular –Ω–∏ –¥–∞–≤–∞ weatherService

  // üé¨ ngOnInit - –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–µ –≤–µ–¥–Ω–∞–≥–∞ —Å–ª–µ–¥ —Å—ä–∑–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  ngOnInit(): void { // –°–ø–µ—Ü–∏–∞–ª–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ
    // üöÄ –ó–∞—Ä–µ–∂–¥–∞–º–µ –≤—Ä–µ–º–µ—Ç–æ –∑–∞ –ë—ä–ª–≥–∞—Ä–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
    this.loadWeather(); // –í–∏–∫–∞–º–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
  } // –ö—Ä–∞–π –Ω–∞ ngOnInit

  /**
   * üîÑ –ó–∞—Ä–µ–∂–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –≤—Ä–µ–º–µ—Ç–æ –∑–∞ –∏–∑–±—Ä–∞–Ω–∞—Ç–∞ –¥—ä—Ä–∂–∞–≤–∞
   */
  loadWeather(): void { // –§—É–Ω–∫—Ü–∏—è –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ—Ç–æ
    this.isLoading = true; // üé¨ –ó–∞–ø–æ—á–≤–∞–º–µ –¥–∞ –≤—ä—Ä—Ç–∏–º —Å–ø–∏–Ω–µ—Ä–∞
    this.hasError = false; // üßπ –ò–∑—á–∏—Å—Ç–≤–∞–º–µ —Å—Ç–∞—Ä–∏—Ç–µ –≥—Ä–µ—à–∫–∏
    this.errorMessage = ''; // üßπ –ò–∑—á–∏—Å—Ç–≤–∞–º–µ —Å—Ç–∞—Ä–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞

    // üìû –ó–≤—ä–Ω–∏–º –Ω–∞ —Å—ä—Ä–≤–∏—Å–∞ –¥–∞ –¥–æ–Ω–µ—Å–µ –¥–∞–Ω–Ω–∏
    this.weatherService.getWeather(this.selectedCountry).subscribe({ // –ê–±–æ–Ω–∏—Ä–∞–º–µ —Å–µ –∑–∞ –æ—Ç–≥–æ–≤–æ—Ä
      next: (data) => { // ‚úÖ –ö–æ–≥–∞—Ç–æ –ø–æ–ª—É—á–∏–º –¥–∞–Ω–Ω–∏...
        this.weatherData = data; // üì¶ –°–ª–∞–≥–∞–º–µ –¥–∞–Ω–Ω–∏—Ç–µ –≤ –∫—É—Ç–∏—è—Ç–∞
        this.isLoading = false; // üõë –°–ø–∏—Ä–∞–º–µ —Å–ø–∏–Ω–µ—Ä–∞
        if (!data) { // ‚ùì –ê–∫–æ –Ω—è–º–∞ –¥–∞–Ω–Ω–∏...
          this.hasError = true; // üö® –í–¥–∏–≥–∞–º–µ —Ñ–ª–∞–≥–∞ –∑–∞ –≥—Ä–µ—à–∫–∞
          this.errorMessage = '–ù–µ –º–æ–∂–∞—Ö–º–µ –¥–∞ –∑–∞—Ä–µ–¥–∏–º –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –≤—Ä–µ–º–µ—Ç–æ. –ú–æ–ª—è, –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ API –∫–ª—é—á–∞.';
        } // –ö—Ä–∞–π –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞
      }, // –ö—Ä–∞–π –Ω–∞ —É—Å–ø–µ—à–Ω–∏—è —Å–ª—É—á–∞–π
      error: (error) => { // ‚ùå –ê–∫–æ —Å–µ —Å–ª—É—á–∏ –≥—Ä–µ—à–∫–∞...
        console.error('–ì—Ä–µ—à–∫–∞:', error); // üì¢ –í–∏–∫–∞–º–µ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞
        this.hasError = true; // üö® –í–¥–∏–≥–∞–º–µ —Ñ–ª–∞–≥–∞ –∑–∞ –≥—Ä–µ—à–∫–∞
        this.isLoading = false; // üõë –°–ø–∏—Ä–∞–º–µ —Å–ø–∏–Ω–µ—Ä–∞
        this.errorMessage = '–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –≤—Ä–µ–º–µ—Ç–æ.';
      } // –ö—Ä–∞–π –Ω–∞ –≥—Ä–µ—à–∫–∞—Ç–∞
    }); // –ö—Ä–∞–π –Ω–∞ –∞–±–æ–Ω–∞–º–µ–Ω—Ç–∞
  } // –ö—Ä–∞–π –Ω–∞ loadWeather

  /**
   * üîÑ –ò–∑–≤–∏–∫–≤–∞ —Å–µ –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∞—Ç–∞ –¥—ä—Ä–∂–∞–≤–∞
   */
  onCountryChange(): void { // –§—É–Ω–∫—Ü–∏—è –∑–∞ —Å–º—è–Ω–∞ –Ω–∞ –¥—ä—Ä–∂–∞–≤–∞

      this.loadWeather(); // üîÑ –ó–∞—Ä–µ–∂–¥–∞–º–µ –æ—Ç–Ω–æ–≤–æ –¥–∞–Ω–Ω–∏—Ç–µ
    
  } // –ö—Ä–∞–π –Ω–∞ onCountryChange

  /**
   * üîç –ü—Ä–µ–≤–∫–ª—é—á–≤–∞ –º–µ–∂–¥—É —Ä–µ–∂–∏–º –Ω–∞ –∏–∑–±–æ—Ä –æ—Ç —Å–ø–∏—Å—ä–∫ –∏ —Ä–µ–∂–∏–º –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–µ
   */
  

  /**
   * üîç –¢—ä—Ä—Å–∏ –≤—Ä–µ–º–µ—Ç–æ –∑–∞ –≤—ä–≤–µ–¥–µ–Ω–∏—è –≥—Ä–∞–¥
   */
  

 }